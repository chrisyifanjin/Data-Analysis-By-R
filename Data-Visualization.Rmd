---
title: "Data Visualisation"
author: "Yifan Jin"
date: "05/02/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knit=(function(input_file, encoding) {
  out_dir <- 'docs';
  rmarkdown::render(input_file,
 encoding=encoding,
 output_file=file.path(dirname(input_file), out_dir, 'index.html'))})
```

# Introductio

## Prerequisites

```{r, warning=FALSE}
library(tidyverse)
```

We can employ function by using `package::function()` eg. `ggplot2::ggplot()` or directly using function eg. `ggplot()`

## First steps
Think about the relationship between variables, think about the mean of one group is smaller or greater than other, think about one variable is positively or negatively correlated with other.

### Example: The data frame `mpg`  
```{r}
mpg
```

Variables descriptions:

1. `displ`, a car's engine size, in litres

2. `hwy`, a car's fuel efficiency on the highway, in miles per gallon (mpg). A car with low fuel efficiency consumes more fuel than a car with a high fuel efficiency when they travel the same distance

To learn more information about `mpg`, use `?mpg` to get more.

### Creating a ggplot

```{r}
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy))
```

We can see that there is a negative relationship between engine size (`displ`) and fuel efficiency (`hwy`). We can form a hypothesis test to formally test the relationship.

### A graphing template
```{r}
# ggplot(data = <DATA>) + 
#  <GEOM_FUNCTION>(mapping = #    aes(<MAPPINGS>))
```

### Exercise

**1. Run `ggplot(data=mpg)`. What do you see?**

```{r}
ggplot(data=mpg)
```

**Answer:**
We get nothing

**2. How many rows are in `mpg`? How many columns**

```{r}
str(mpg)
```

**Answer:**

We have `234` rows of observations and 11 variables

**3. What does the `drv` variable describe? Read the help for out**

```{r}
?mpg
```

`drv:` f = front-wheel drive, r = rear wheel drive, 4 = 4wd

**4. Make a scatterplot of `hwy` vs `cyl`**

**Answer:**

```{r}
ggplot(data=mpg)+geom_point(mapping = aes(x=hwy,y=cyl))
```

**5. What happens if you make scatterplot of `class` vs `drv`? Why is not useful?**

**Answer:**

It can be seen that `cyl` only take certain values which is discrete variable. Therefore, it looks strange. We can not see any information about the realtionship between two variables, hence, it doesn't make much sense.

## Aesthetic mappings

*The greatest value of a picture is when it forces us to notice what we never expected to see*











